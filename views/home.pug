html

	head
		link(rel='shortcut icon', type='image/png', href='/images/favicon2.png')
		link(rel='stylesheet', href='/styles/home.css')

		script(src="https://code.jquery.com/jquery-3.2.1.js"
			integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
			crossorigin="anonymous")

		script(src='/scripts/home.js')
		script(src='/scripts/homecanvas.js')

		title #{title}

	body

		include contact.pug

		div#grid

			div.horizontal.nav#top
			div.horizontal.nav#top2(style={display:'none'})

			div.horizontal.nav#bottom
			div.horizontal.nav#bottom2(style={display:'none'})

			div.vertical#left

			div.vertical#right

			if homepage
		
				div.display

					div.intro#intro

						img#scream(src='/images/Evol fanfic.jpg' style={display:'none'})
						canvas#canvas

			else if !homepage

				div#cnav
					a(href='/') |^|
					p HOME

				div#pnav(style={display:'none'})

					a(href='/projects') /,-
					p Project List

				div.display

					block routes

//script.

	var canvas = document.getElementById('canvas');
	var intro = document.getElementById('intro')
	var display = document.querySelector('.display')

	function flex(){

		canvas.width = intro.clientWidth
		canvas.height = display.clientHeight

		var ctx = canvas.getContext('2d');

		ctx.fillStyle = 'rgba(190,192,192,0.9)';

		ctx.fillRect(0,0,canvas.width,canvas.height);

		var grd=ctx.createRadialGradient(canvas.width/2+35,canvas.height/2+35,85,canvas.width/2+35,canvas.height/2+35,1);
		grd.addColorStop(0,'rgba(140,142,142,0)');
		grd.addColorStop(1,'white');

		ctx.fillStyle = grd;

		ctx.fillRect(canvas.width/2-71,canvas.height/2-71,250,250);

		var about = document.getElementById('about')
		var code = document.getElementById('code')
		var visuals = document.getElementById('visuals')
		var contact = document.getElementById('contact')
		
		ctx.strokeStyle = 'rgba(0,0,0,1)';
		ctx.lineWidth = 1;

		ctx.beginPath();
		ctx.moveTo(about.offsetLeft,0);
		ctx.lineTo(canvas.width/2+35,canvas.height/2+35);
		ctx.stroke();

		ctx.beginPath();
		ctx.moveTo(code.offsetLeft,0);
		ctx.lineTo(canvas.width/2+35,canvas.height/2+35);
		ctx.stroke();

		ctx.beginPath();
		ctx.moveTo(visuals.offsetLeft,canvas.height);
		ctx.lineTo(canvas.width/2+35,canvas.height/2+35);
		ctx.stroke();

		ctx.beginPath();
		ctx.moveTo(contact.offsetLeft,canvas.height);
		ctx.lineTo(canvas.width/2+35,canvas.height/2+35);
		ctx.stroke();

	}
	
	if(canvas){
		window.onresize = flex
	}